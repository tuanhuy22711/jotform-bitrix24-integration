2025-08-16 15:50:13 [INFO]: HTTP Request | {"method":"POST","url":"/webhook/jotform","ip":"34.136.141.125","statusCode":200,"duration":"undefinedms","contentLength":"3502"}
2025-08-16 15:50:13 [INFO]: === WEBHOOK REQUEST DEBUG === | {"method":"POST","url":"/webhook/jotform","headers":{"host":"mart-guitars-educated-idea.trycloudflare.com","content-length":"3502","accept":"*/*","accept-encoding":"gzip","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"34.136.141.125","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"96ffaecfb1f01090-HKG","cf-visitor":"{\"scheme\":\"https\"}","cf-warp-tag-id":"60b5b5b8-3782-413e-8ff8-09da4e1e0f82","cf-worker":"trycloudflare.com","connection":"keep-alive","content-type":"multipart/form-data; boundary=------------------------HzxQuD021nK6YX6WdDGoPt","newrelic":"eyJ2IjpbMCwxXSwiZCI6eyJ0eSI6IkFwcCIsImFjIjoiNjkxNjIwIiwiYXAiOiIxMzE0NDY2Njk5IiwiaWQiOiJjOTY2ZTQ5ZGIwZTM5MjcxIiwidHIiOiIxMDkwY2RjZTNkOTA1ZDU2IiwidHgiOiIxMDkwY2RjZTNkOTA1ZDU2IiwicHIiOjEuMDk3NjcsInNhIjp0cnVlLCJ0aSI6MTc1NTMzNDIxMjkzMH19","traceparent":"00-00000000000000001090cdce3d905d56-c966e49db0e39271-01","tracestate":"691620@nr=0-0-691620-1314466699-c966e49db0e39271-1090cdce3d905d56-1-1.097674-1755334212930","x-forwarded-for":"34.136.141.125","x-forwarded-proto":"https"},"body":{},"rawBody":"{}","query":{},"params":{}}
2025-08-16 15:50:13 [INFO]: Webhook processed: Jotform -> submission | {"source":"Jotform","action":"submission","dataKeys":[]}
2025-08-16 15:50:13 [ERROR]: Invalid webhook payload | {"errors":["Missing submission ID"],"body":{}}
2025-08-16 15:50:13 [INFO]: Request completed | {"method":"POST","url":"/webhook/jotform","statusCode":400,"duration":6,"ip":"34.136.141.125"}
2025-08-16 15:50:41 [INFO]: HTTP Request | {"method":"POST","url":"/webhook/jotform","ip":"118.70.98.152","statusCode":200,"duration":"undefinedms","userAgent":"PostmanRuntime/7.45.0","contentLength":"0"}
2025-08-16 15:50:41 [INFO]: === WEBHOOK REQUEST DEBUG === | {"method":"POST","url":"/webhook/jotform","headers":{"host":"mart-guitars-educated-idea.trycloudflare.com","user-agent":"PostmanRuntime/7.45.0","content-length":"0","accept":"*/*","accept-encoding":"gzip","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"118.70.98.152","cf-ew-via":"15","cf-ipcountry":"VN","cf-ray":"96ffaf8105a10df8-HKG","cf-visitor":"{\"scheme\":\"https\"}","cf-warp-tag-id":"60b5b5b8-3782-413e-8ff8-09da4e1e0f82","cf-worker":"trycloudflare.com","connection":"keep-alive","postman-token":"e03330bc-8244-4474-baf1-bd4bf1ce45bc","x-forwarded-for":"118.70.98.152","x-forwarded-proto":"https"},"body":{},"rawBody":"{}","query":{},"params":{}}
2025-08-16 15:50:41 [INFO]: Webhook processed: Jotform -> submission | {"source":"Jotform","action":"submission","dataKeys":[]}
2025-08-16 15:50:41 [ERROR]: Invalid webhook payload | {"errors":["Missing submission ID"],"body":{}}
2025-08-16 15:50:41 [INFO]: Request completed | {"method":"POST","url":"/webhook/jotform","statusCode":400,"duration":4,"ip":"118.70.98.152","userAgent":"PostmanRuntime/7.45.0"}
2025-08-16 15:51:03 [INFO]: HTTP Request | {"method":"POST","url":"/webhook/jotform","ip":"34.136.141.125","statusCode":200,"duration":"undefinedms","contentLength":"3502"}
2025-08-16 15:51:03 [INFO]: === WEBHOOK REQUEST DEBUG === | {"method":"POST","url":"/webhook/jotform","headers":{"host":"mart-guitars-educated-idea.trycloudflare.com","content-length":"3502","accept":"*/*","accept-encoding":"gzip","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"34.136.141.125","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"96ffb00aa6fbb266-HKG","cf-visitor":"{\"scheme\":\"https\"}","cf-warp-tag-id":"60b5b5b8-3782-413e-8ff8-09da4e1e0f82","cf-worker":"trycloudflare.com","connection":"keep-alive","content-type":"multipart/form-data; boundary=------------------------kyQJBTITPJb6WUOzPjx3x7","newrelic":"eyJ2IjpbMCwxXSwiZCI6eyJ0eSI6IkFwcCIsImFjIjoiNjkxNjIwIiwiYXAiOiIxMzE0NDY2Njk5IiwiaWQiOiIxNTUxNjgzMGEyMWE2ZTI3IiwidHIiOiI1NzkwM2I1NGRkNDE5YTVlIiwidHgiOiI1NzkwM2I1NGRkNDE5YTVlIiwicHIiOjEuMTAxODMsInNhIjp0cnVlLCJ0aSI6MTc1NTMzNDI2MzQwM319","traceparent":"00-000000000000000057903b54dd419a5e-15516830a21a6e27-01","tracestate":"691620@nr=0-0-691620-1314466699-15516830a21a6e27-57903b54dd419a5e-1-1.101828-1755334263403","x-forwarded-for":"34.136.141.125","x-forwarded-proto":"https"},"body":{},"rawBody":"{}","query":{},"params":{}}
2025-08-16 15:51:03 [INFO]: Webhook processed: Jotform -> submission | {"source":"Jotform","action":"submission","dataKeys":[]}
2025-08-16 15:51:03 [ERROR]: Invalid webhook payload | {"errors":["Missing submission ID"],"body":{}}
2025-08-16 15:51:03 [INFO]: Request completed | {"method":"POST","url":"/webhook/jotform","statusCode":400,"duration":2,"ip":"34.136.141.125"}
2025-08-16 15:58:00 [INFO]: Received SIGINT, starting graceful shutdown...
2025-08-16 15:59:53 [INFO]: Middleware setup completed
2025-08-16 15:59:53 [INFO]: Development test routes enabled
2025-08-16 15:59:53 [INFO]: Routes setup completed
2025-08-16 15:59:53 [INFO]: Error handling setup completed
2025-08-16 15:59:53 [INFO]: Validating configuration...
2025-08-16 15:59:53 [INFO]: Testing Jotform connection...
2025-08-16 15:59:53 [INFO]: Jotform API request | {"method":"GET","url":"/form/your_form_id_here"}
2025-08-16 15:59:54 [ERROR]: Jotform API response error Request failed with status code 404 | {"status":404,"url":"/form/your_form_id_here","data":{"responseCode":404,"message":"Requested URL (/form/your_form_id_here) is not available!","content":"","duration":"29.48ms","info":"https://api.jotform.com/docs"}}
2025-08-16 15:59:54 [ERROR]: Failed to get form from Jotform | {"formId":"your_form_id_here","error":"Request failed with status code 404"}
AxiosError: Request failed with status code 404
    at settle (/Users/trantuanhuy/api/jotform-bitrix24-integration/node_modules/axios/dist/node/axios.cjs:2090:12)
    at Unzip.handleStreamEnd (/Users/trantuanhuy/api/jotform-bitrix24-integration/node_modules/axios/dist/node/axios.cjs:3207:11)
    at Unzip.emit (node:events:519:35)
    at endReadableNT (node:internal/streams/readable:1696:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/trantuanhuy/api/jotform-bitrix24-integration/node_modules/axios/dist/node/axios.cjs:4317:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async JotformService.getForm (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/services/jotformService.js:67:24)
    at async JotformService.validateConnection (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/services/jotformService.js:244:22)
    at async Server.validateConfiguration (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/server.js:220:29)
    at async Server.start (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/server.js:158:7)
2025-08-16 15:59:54 [WARN]: Jotform connection test failed | {"error":"Request failed with status code 404"}
2025-08-16 15:59:54 [INFO]: Testing Bitrix24 connection...
2025-08-16 15:59:54 [INFO]: Bitrix24 API request | {"method":"GET","url":"your_bitrix24_webhook_url_here/crm.contact.fields.json","dataKeys":[]}
2025-08-16 15:59:54 [ERROR]: Bitrix24 API response error Invalid URL | {}
2025-08-16 15:59:54 [ERROR]: Bitrix24 connection validation failed | {"error":"Invalid URL"}
2025-08-16 15:59:54 [WARN]: Bitrix24 connection test failed | {"error":"Connection validation failed"}
2025-08-16 15:59:54 [INFO]: Configuration validation completed
2025-08-16 15:59:54 [INFO]: Server started successfully | {"port":"3000","env":"development","pid":74863,"nodeVersion":"v23.10.0"}
2025-08-16 16:00:45 [INFO]: HTTP Request | {"method":"POST","url":"/webhook/jotform","ip":"34.136.141.125","statusCode":200,"duration":"undefinedms","contentLength":"3536"}
2025-08-16 16:00:45 [INFO]: === WEBHOOK REQUEST DEBUG === | {"method":"POST","url":"/webhook/jotform","headers":{"host":"mart-guitars-educated-idea.trycloudflare.com","content-length":"3536","accept":"*/*","accept-encoding":"gzip","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"34.136.141.125","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"96ffbe3db3e73ef3-HKG","cf-visitor":"{\"scheme\":\"https\"}","cf-warp-tag-id":"60b5b5b8-3782-413e-8ff8-09da4e1e0f82","cf-worker":"trycloudflare.com","connection":"keep-alive","content-type":"multipart/form-data; boundary=------------------------6hXTErZafT60SkhXjgwdE0","newrelic":"eyJ2IjpbMCwxXSwiZCI6eyJ0eSI6IkFwcCIsImFjIjoiNjkxNjIwIiwiYXAiOiIxMzE0NDY2Njk5IiwiaWQiOiJjMGJlM2M5NWFhNDAyZDJjIiwidHIiOiIxZDNkYTNkMGMwNjM4ZDljIiwidHgiOiIxZDNkYTNkMGMwNjM4ZDljIiwicHIiOjEuOTk2MTQsInNhIjp0cnVlLCJ0aSI6MTc1NTMzNDg0NDk0Nn19","traceparent":"00-00000000000000001d3da3d0c0638d9c-c0be3c95aa402d2c-01","tracestate":"691620@nr=0-0-691620-1314466699-c0be3c95aa402d2c-1d3da3d0c0638d9c-1-1.996144-1755334844946","x-forwarded-for":"34.136.141.125","x-forwarded-proto":"https"},"body":{"action":"","webhookURL":"https://mart-guitars-educated-idea.trycloudflare.com/webhook/jotform","username":"tuanhuy227","formID":"252271255656055","type":"WEB","customParams":"","product":"","formTitle":"Form","customTitle":"","submissionID":"6311440442516407077","event":"","documentID":"","teamID":"","subject":"","isSilent":"","customBody":"","rawRequest":"{\"slug\":\"submit\\/252271255656055\",\"jsExecutionTracker\":\"build-date-1755334321381=>init-started:1755334321593=>validator-called:1755334321595=>validator-mounted-false:1755334321595=>init-complete:1755334321596=>interval-complete:1755334342333=>onsubmit-fired:1755334843524=>observerSubmitHandler_received-submit-event:1755334843529=>submit-validation-passed:1755334843534=>observerSubmitHandler_validation-passed-submitting-form:1755334843538\",\"submitSource\":\"form\",\"submitDate\":\"1755334843538\",\"buildDate\":\"1755334321381\",\"uploadServerUrl\":\"https:\\/\\/upload.jotform.com\\/upload\",\"eventObserver\":\"1\",\"q3_name\":{\"first\":\"Tr\\u1ea7n\",\"last\":\"Huy\"},\"q4_phoneNumber\":{\"full\":\"(097) 828-1697\"},\"q5_email\":\"tuanhuy227@gmail.com\",\"event_id\":\"1755334321593_252271255656055_gTAshkM\",\"timeToSubmit\":\"20\",\"validatedNewRequiredFieldIDs\":\"{\\\"new\\\":1,\\\"id_3\\\":\\\"Hu\\\",\\\"id_4\\\":\\\"(0\\\",\\\"id_5\\\":\\\"tu\\\"}\",\"path\":\"\\/submit\\/252271255656055\"}","fromTable":"","appID":"","pretty":"Name:Trần Huy, Phone Number:(097) 828-1697, Email:tuanhuy227@gmail.com","unread":"","parent":"","ip":"118.70.98.152"},"formData":{"action":"","webhookURL":"https://mart-guitars-educated-idea.trycloudflare.com/webhook/jotform","username":"tuanhuy227","formID":"252271255656055","type":"WEB","customParams":"","product":"","formTitle":"Form","customTitle":"","submissionID":"6311440442516407077","event":"","documentID":"","teamID":"","subject":"","isSilent":"","customBody":"","rawRequest":"{\"slug\":\"submit\\/252271255656055\",\"jsExecutionTracker\":\"build-date-1755334321381=>init-started:1755334321593=>validator-called:1755334321595=>validator-mounted-false:1755334321595=>init-complete:1755334321596=>interval-complete:1755334342333=>onsubmit-fired:1755334843524=>observerSubmitHandler_received-submit-event:1755334843529=>submit-validation-passed:1755334843534=>observerSubmitHandler_validation-passed-submitting-form:1755334843538\",\"submitSource\":\"form\",\"submitDate\":\"1755334843538\",\"buildDate\":\"1755334321381\",\"uploadServerUrl\":\"https:\\/\\/upload.jotform.com\\/upload\",\"eventObserver\":\"1\",\"q3_name\":{\"first\":\"Tr\\u1ea7n\",\"last\":\"Huy\"},\"q4_phoneNumber\":{\"full\":\"(097) 828-1697\"},\"q5_email\":\"tuanhuy227@gmail.com\",\"event_id\":\"1755334321593_252271255656055_gTAshkM\",\"timeToSubmit\":\"20\",\"validatedNewRequiredFieldIDs\":\"{\\\"new\\\":1,\\\"id_3\\\":\\\"Hu\\\",\\\"id_4\\\":\\\"(0\\\",\\\"id_5\\\":\\\"tu\\\"}\",\"path\":\"\\/submit\\/252271255656055\"}","fromTable":"","appID":"","pretty":"Name:Trần Huy, Phone Number:(097) 828-1697, Email:tuanhuy227@gmail.com","unread":"","parent":"","ip":"118.70.98.152"},"rawBody":"{\n  \"action\": \"\",\n  \"webhookURL\": \"https://mart-guitars-educated-idea.trycloudflare.com/webhook/jotform\",\n  \"username\": \"tuanhuy227\",\n  \"formID\": \"252271255656055\",\n  \"type\": \"WEB\",\n  \"customParams\": \"\",\n  \"product\": \"\",\n  \"formTitle\": \"Form\",\n  \"customTitle\": \"\",\n  \"submissionID\": \"6311440442516407077\",\n  \"event\": \"\",\n  \"documentID\": \"\",\n  \"teamID\": \"\",\n  \"subject\": \"\",\n  \"isSilent\": \"\",\n  \"customBody\": \"\",\n  \"rawRequest\": \"{\\\"slug\\\":\\\"submit\\\\/252271255656055\\\",\\\"jsExecutionTracker\\\":\\\"build-date-1755334321381=>init-started:1755334321593=>validator-called:1755334321595=>validator-mounted-false:1755334321595=>init-complete:1755334321596=>interval-complete:1755334342333=>onsubmit-fired:1755334843524=>observerSubmitHandler_received-submit-event:1755334843529=>submit-validation-passed:1755334843534=>observerSubmitHandler_validation-passed-submitting-form:1755334843538\\\",\\\"submitSource\\\":\\\"form\\\",\\\"submitDate\\\":\\\"1755334843538\\\",\\\"buildDate\\\":\\\"1755334321381\\\",\\\"uploadServerUrl\\\":\\\"https:\\\\/\\\\/upload.jotform.com\\\\/upload\\\",\\\"eventObserver\\\":\\\"1\\\",\\\"q3_name\\\":{\\\"first\\\":\\\"Tr\\\\u1ea7n\\\",\\\"last\\\":\\\"Huy\\\"},\\\"q4_phoneNumber\\\":{\\\"full\\\":\\\"(097) 828-1697\\\"},\\\"q5_email\\\":\\\"tuanhuy227@gmail.com\\\",\\\"event_id\\\":\\\"1755334321593_252271255656055_gTAshkM\\\",\\\"timeToSubmit\\\":\\\"20\\\",\\\"validatedNewRequiredFieldIDs\\\":\\\"{\\\\\\\"new\\\\\\\":1,\\\\\\\"id_3\\\\\\\":\\\\\\\"Hu\\\\\\\",\\\\\\\"id_4\\\\\\\":\\\\\\\"(0\\\\\\\",\\\\\\\"id_5\\\\\\\":\\\\\\\"tu\\\\\\\"}\\\",\\\"path\\\":\\\"\\\\/submit\\\\/252271255656055\\\"}\",\n  \"fromTable\": \"\",\n  \"appID\": \"\",\n  \"pretty\": \"Name:Trần Huy, Phone Number:(097) 828-1697, Email:tuanhuy227@gmail.com\",\n  \"unread\": \"\",\n  \"parent\": \"\",\n  \"ip\": \"118.70.98.152\"\n}","query":{},"params":{},"contentType":"multipart/form-data; boundary=------------------------6hXTErZafT60SkhXjgwdE0"}
2025-08-16 16:00:45 [INFO]: === PARSED JOTFORM DATA === | {"rawRequest":"{\"slug\":\"submit\\/252271255656055\",\"jsExecutionTracker\":\"build-date-1755334321381=>init-started:1755334321593=>validator-called:1755334321595=>validator-mounted-false:1755334321595=>init-complete:1755334321596=>interval-complete:1755334342333=>onsubmit-fired:1755334843524=>observerSubmitHandler_received-submit-event:1755334843529=>submit-validation-passed:1755334843534=>observerSubmitHandler_validation-passed-submitting-form:1755334843538\",\"submitSource\":\"form\",\"submitDate\":\"1755334843538\",\"buildDate\":\"1755334321381\",\"uploadServerUrl\":\"https:\\/\\/upload.jotform.com\\/upload\",\"eventObserver\":\"1\",\"q3_name\":{\"first\":\"Tr\\u1ea7n\",\"last\":\"Huy\"},\"q4_phoneNumber\":{\"full\":\"(097) 828-1697\"},\"q5_email\":\"tuanhuy227@gmail.com\",\"event_id\":\"1755334321593_252271255656055_gTAshkM\",\"timeToSubmit\":\"20\",\"validatedNewRequiredFieldIDs\":\"{\\\"new\\\":1,\\\"id_3\\\":\\\"Hu\\\",\\\"id_4\\\":\\\"(0\\\",\\\"id_5\\\":\\\"tu\\\"}\",\"path\":\"\\/submit\\/252271255656055\"}","parsedData":{"slug":"submit/252271255656055","jsExecutionTracker":"build-date-1755334321381=>init-started:1755334321593=>validator-called:1755334321595=>validator-mounted-false:1755334321595=>init-complete:1755334321596=>interval-complete:1755334342333=>onsubmit-fired:1755334843524=>observerSubmitHandler_received-submit-event:1755334843529=>submit-validation-passed:1755334843534=>observerSubmitHandler_validation-passed-submitting-form:1755334843538","submitSource":"form","submitDate":"1755334843538","buildDate":"1755334321381","uploadServerUrl":"https://upload.jotform.com/upload","eventObserver":"1","q3_name":{"first":"Trần","last":"Huy"},"q4_phoneNumber":{"full":"(097) 828-1697"},"q5_email":"tuanhuy227@gmail.com","event_id":"1755334321593_252271255656055_gTAshkM","timeToSubmit":"20","validatedNewRequiredFieldIDs":"{\"new\":1,\"id_3\":\"Hu\",\"id_4\":\"(0\",\"id_5\":\"tu\"}","path":"/submit/252271255656055"},"dataKeys":["slug","jsExecutionTracker","submitSource","submitDate","buildDate","uploadServerUrl","eventObserver","q3_name","q4_phoneNumber","q5_email","event_id","timeToSubmit","validatedNewRequiredFieldIDs","path"]}
2025-08-16 16:00:45 [INFO]: Webhook processed: Jotform -> submission | {"source":"Jotform","action":"submission","dataKeys":["slug","jsExecutionTracker","submitSource","submitDate","buildDate","uploadServerUrl","eventObserver","q3_name","q4_phoneNumber","q5_email","event_id","timeToSubmit","validatedNewRequiredFieldIDs","path"]}
2025-08-16 16:00:45 [ERROR]: Invalid webhook payload | {"errors":["Missing submission ID"],"webhookData":{"slug":"submit/252271255656055","jsExecutionTracker":"build-date-1755334321381=>init-started:1755334321593=>validator-called:1755334321595=>validator-mounted-false:1755334321595=>init-complete:1755334321596=>interval-complete:1755334342333=>onsubmit-fired:1755334843524=>observerSubmitHandler_received-submit-event:1755334843529=>submit-validation-passed:1755334843534=>observerSubmitHandler_validation-passed-submitting-form:1755334843538","submitSource":"form","submitDate":"1755334843538","buildDate":"1755334321381","uploadServerUrl":"https://upload.jotform.com/upload","eventObserver":"1","q3_name":{"first":"Trần","last":"Huy"},"q4_phoneNumber":{"full":"(097) 828-1697"},"q5_email":"tuanhuy227@gmail.com","event_id":"1755334321593_252271255656055_gTAshkM","timeToSubmit":"20","validatedNewRequiredFieldIDs":"{\"new\":1,\"id_3\":\"Hu\",\"id_4\":\"(0\",\"id_5\":\"tu\"}","path":"/submit/252271255656055"}}
2025-08-16 16:00:45 [INFO]: Request completed | {"method":"POST","url":"/webhook/jotform","statusCode":400,"duration":15,"ip":"34.136.141.125"}
2025-08-16 16:07:16 [INFO]: Received SIGINT, starting graceful shutdown...
2025-08-16 16:10:52 [INFO]: Middleware setup completed
2025-08-16 16:10:52 [INFO]: Development test routes enabled
2025-08-16 16:10:52 [INFO]: Routes setup completed
2025-08-16 16:10:52 [INFO]: Error handling setup completed
2025-08-16 16:10:52 [INFO]: Validating configuration...
2025-08-16 16:10:52 [INFO]: Testing Jotform connection...
2025-08-16 16:10:52 [INFO]: Jotform API request | {"method":"GET","url":"/form/your_form_id_here"}
2025-08-16 16:10:53 [ERROR]: Jotform API response error Request failed with status code 404 | {"status":404,"url":"/form/your_form_id_here","data":{"responseCode":404,"message":"Requested URL (/form/your_form_id_here) is not available!","content":"","duration":"29.60ms","info":"https://api.jotform.com/docs"}}
2025-08-16 16:10:53 [ERROR]: Failed to get form from Jotform | {"formId":"your_form_id_here","error":"Request failed with status code 404"}
AxiosError: Request failed with status code 404
    at settle (/Users/trantuanhuy/api/jotform-bitrix24-integration/node_modules/axios/dist/node/axios.cjs:2090:12)
    at Unzip.handleStreamEnd (/Users/trantuanhuy/api/jotform-bitrix24-integration/node_modules/axios/dist/node/axios.cjs:3207:11)
    at Unzip.emit (node:events:519:35)
    at endReadableNT (node:internal/streams/readable:1696:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
    at Axios.request (/Users/trantuanhuy/api/jotform-bitrix24-integration/node_modules/axios/dist/node/axios.cjs:4317:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async JotformService.getForm (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/services/jotformService.js:67:24)
    at async JotformService.validateConnection (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/services/jotformService.js:244:22)
    at async Server.validateConfiguration (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/server.js:220:29)
    at async Server.start (/Users/trantuanhuy/api/jotform-bitrix24-integration/src/server.js:158:7)
2025-08-16 16:10:53 [WARN]: Jotform connection test failed | {"error":"Request failed with status code 404"}
2025-08-16 16:10:53 [INFO]: Testing Bitrix24 connection...
2025-08-16 16:10:53 [INFO]: Bitrix24 API request | {"method":"GET","url":"https://b24-7woulk.bitrix24.vn/rest/1/rg1j0gwz9z74hdqe/crm.lead.fields.json","dataKeys":[]}
2025-08-16 16:10:53 [INFO]: Bitrix24 API response | {"status":200,"url":"https://b24-7woulk.bitrix24.vn/rest/1/rg1j0gwz9z74hdqe/crm.lead.fields.json","hasResult":true}
2025-08-16 16:10:53 [INFO]: Bitrix24 connection validated successfully
2025-08-16 16:10:53 [INFO]: Bitrix24 connection test passed
2025-08-16 16:10:53 [INFO]: Configuration validation completed
2025-08-16 16:10:53 [INFO]: Server started successfully | {"port":"3000","env":"development","pid":78053,"nodeVersion":"v23.10.0"}
2025-08-16 16:11:52 [INFO]: HTTP Request | {"method":"POST","url":"/webhook/jotform","ip":"34.136.141.125","statusCode":200,"duration":"undefinedms","contentLength":"3502"}
2025-08-16 16:11:52 [INFO]: === WEBHOOK REQUEST DEBUG === | {"method":"POST","url":"/webhook/jotform","headers":{"host":"mart-guitars-educated-idea.trycloudflare.com","content-length":"3502","accept":"*/*","accept-encoding":"gzip","cdn-loop":"cloudflare; loops=1; subreqs=1","cf-connecting-ip":"34.136.141.125","cf-ew-via":"15","cf-ipcountry":"US","cf-ray":"96ffce868735230f-HKG","cf-visitor":"{\"scheme\":\"https\"}","cf-warp-tag-id":"60b5b5b8-3782-413e-8ff8-09da4e1e0f82","cf-worker":"trycloudflare.com","connection":"keep-alive","content-type":"multipart/form-data; boundary=------------------------eGeGNA42fKnQIiSuUIbm1b","newrelic":"eyJ2IjpbMCwxXSwiZCI6eyJ0eSI6IkFwcCIsImFjIjoiNjkxNjIwIiwiYXAiOiIxMzE0NDY2Njk5IiwiaWQiOiIyNjFjYTgyMWQ1YzAwZTgzIiwidHIiOiIyYzg1ZWQ4ODcyMTNlOGFiIiwidHgiOiIyYzg1ZWQ4ODcyMTNlOGFiIiwicHIiOjEuNTEwNzIsInNhIjp0cnVlLCJ0aSI6MTc1NTMzNTUxMTk0Mn19","traceparent":"00-00000000000000002c85ed887213e8ab-261ca821d5c00e83-01","tracestate":"691620@nr=0-0-691620-1314466699-261ca821d5c00e83-2c85ed887213e8ab-1-1.510723-1755335511942","x-forwarded-for":"34.136.141.125","x-forwarded-proto":"https"},"body":{"action":"","webhookURL":"https://mart-guitars-educated-idea.trycloudflare.com/webhook/jotform","username":"tuanhuy227","formID":"252271255656055","type":"WEB","customParams":"","product":"","formTitle":"Form","customTitle":"","submissionID":"6311447112513527810","event":"","documentID":"","teamID":"","subject":"","isSilent":"","customBody":"","rawRequest":"{\"slug\":\"submit\\/252271255656055\",\"jsExecutionTracker\":\"build-date-1755335506098=>init-started:1755335506296=>validator-called:1755335506299=>validator-mounted-false:1755335506299=>init-complete:1755335506300=>onsubmit-fired:1755335510763=>observerSubmitHandler_received-submit-event:1755335510764=>submit-validation-passed:1755335510771=>observerSubmitHandler_validation-passed-submitting-form:1755335510775\",\"submitSource\":\"form\",\"submitDate\":\"1755335510775\",\"buildDate\":\"1755335506098\",\"uploadServerUrl\":\"https:\\/\\/upload.jotform.com\\/upload\",\"eventObserver\":\"1\",\"q3_name\":{\"first\":\"Tr\\u1ea7n\",\"last\":\"Huy\"},\"q4_phoneNumber\":{\"full\":\"(097) 828-1697\"},\"q5_email\":\"tuanhuy227@gmail.com\",\"event_id\":\"1755335506296_252271255656055_SPQnM39\",\"timeToSubmit\":\"4\",\"validatedNewRequiredFieldIDs\":\"{\\\"new\\\":1,\\\"id_3\\\":\\\"Hu\\\",\\\"id_4\\\":\\\"(0\\\",\\\"id_5\\\":\\\"tu\\\"}\",\"path\":\"\\/submit\\/252271255656055\"}","fromTable":"","appID":"","pretty":"Name:Trần Huy, Phone Number:(097) 828-1697, Email:tuanhuy227@gmail.com","unread":"","parent":"","ip":"118.70.98.152"},"submissionID":"6311447112513527810","hasRawRequest":true,"contentType":"multipart/form-data; boundary=------------------------eGeGNA42fKnQIiSuUIbm1b"}
2025-08-16 16:11:52 [INFO]: === PARSED FORM DATA === | {"submissionId":"6311447112513527810","formData":{"slug":"submit/252271255656055","jsExecutionTracker":"build-date-1755335506098=>init-started:1755335506296=>validator-called:1755335506299=>validator-mounted-false:1755335506299=>init-complete:1755335506300=>onsubmit-fired:1755335510763=>observerSubmitHandler_received-submit-event:1755335510764=>submit-validation-passed:1755335510771=>observerSubmitHandler_validation-passed-submitting-form:1755335510775","submitSource":"form","submitDate":"1755335510775","buildDate":"1755335506098","uploadServerUrl":"https://upload.jotform.com/upload","eventObserver":"1","q3_name":{"first":"Trần","last":"Huy"},"q4_phoneNumber":{"full":"(097) 828-1697"},"q5_email":"tuanhuy227@gmail.com","event_id":"1755335506296_252271255656055_SPQnM39","timeToSubmit":"4","validatedNewRequiredFieldIDs":"{\"new\":1,\"id_3\":\"Hu\",\"id_4\":\"(0\",\"id_5\":\"tu\"}","path":"/submit/252271255656055"},"hasQ3Name":true,"hasQ4Phone":true,"hasQ5Email":true}
2025-08-16 16:11:52 [INFO]: Processing Jotform webhook | {"submissionId":"6311447112513527810"}
2025-08-16 16:11:52 [INFO]: Parsed Jotform contact data | {"submissionId":"6311447112513527810","contactData":{"fullName":"Trần Huy","phone":"(097) 828-1697","email":"tuanhuy227@gmail.com","submissionId":"6311447112513527810","submittedAt":"2025-08-16T09:11:50.775Z"},"originalFormData":{"q3_name":{"first":"Trần","last":"Huy"},"q4_phoneNumber":{"full":"(097) 828-1697"},"q5_email":"tuanhuy227@gmail.com"}}
2025-08-16 16:11:52 [INFO]: === CONTACT DATA PARSED === | {"submissionId":"6311447112513527810","contactData":{"fullName":"Trần Huy","phone":"(097) 828-1697","email":"tuanhuy227@gmail.com","submissionId":"6311447112513527810","submittedAt":"2025-08-16T09:11:50.775Z"},"hasFullName":true,"hasEmail":true,"hasPhone":true}
2025-08-16 16:11:52 [INFO]: Creating lead in Bitrix24 for submission | {"submissionId":"6311447112513527810","fullName":"Trần Huy","email":"tuanhuy227@gmail.com","phone":"(097) 828-1697"}
2025-08-16 16:11:52 [INFO]: Creating lead in Bitrix24 | {"title":"Lead từ Jotform - Trần Huy","fullName":"Trần Huy","email":"tuanhuy227@gmail.com","phone":"(097) 828-1697","url":"https://b24-7woulk.bitrix24.vn/rest/1/rg1j0gwz9z74hdqe/crm.lead.add.json"}
2025-08-16 16:11:52 [INFO]: Bitrix24 API request | {"method":"POST","url":"https://b24-7woulk.bitrix24.vn/rest/1/rg1j0gwz9z74hdqe/crm.lead.add.json","dataKeys":["FIELDS"]}
2025-08-16 16:11:53 [INFO]: Bitrix24 API response | {"status":200,"url":"https://b24-7woulk.bitrix24.vn/rest/1/rg1j0gwz9z74hdqe/crm.lead.add.json","hasResult":true}
2025-08-16 16:11:53 [INFO]: API call to Bitrix24 | {"service":"Bitrix24","endpoint":"/crm.lead.add","method":"POST","statusCode":200,"duration":"1051ms"}
2025-08-16 16:11:53 [INFO]: Lead created successfully in Bitrix24 | {"leadId":3,"fullName":"Trần Huy","submissionId":"6311447112513527810"}
2025-08-16 16:11:53 [INFO]: Lead created successfully | {"leadId":3,"submissionId":"6311447112513527810","fullName":"Trần Huy"}
2025-08-16 16:11:53 [INFO]: Webhook processed successfully | {"submissionId":"6311447112513527810","leadId":3,"duration":1054}
2025-08-16 16:11:53 [INFO]: Request completed | {"method":"POST","url":"/webhook/jotform","statusCode":200,"duration":1062,"ip":"34.136.141.125"}
2025-08-16 16:22:57 [INFO]: Received SIGINT, starting graceful shutdown...
2025-08-16 16:23:06 [INFO]: Server running on port 3000
2025-08-16 16:23:06 [INFO]: Environment:
2025-08-16 16:23:14 [INFO]: SIGINT received, shutting down gracefully
